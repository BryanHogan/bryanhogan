---

---

<button id="theme-toggle" aria-label="Toggle theme"> Toggle Theme </button>

<style>
    #theme-toggle {
        background: var(--color-neutral-700);
        border: 1px solid var(--border-color);
        color: var(--color-neutral-100);
        padding: var(--space-xs) var(--space-s);
        border-radius: var(--border-radius-s);
        cursor: pointer;
        transition: all var(--transition-normal);
    }

    #theme-toggle:hover {
        background: var(--color-neutral-600);
        border-color: var(--color-accent-500);
    }

    #theme-toggle:focus {
        outline: 2px solid var(--color-accent-500);
        outline-offset: 2px;
    }
</style>

<script is:inline>
    window.themeToggle = window.themeToggle || {
        toggle: function () {
            const currentTheme =
                document.documentElement.getAttribute("data-theme") || "dark";
            const newTheme = currentTheme === "light" ? "dark" : "light";
            document.documentElement.setAttribute("data-theme", newTheme);
            localStorage.setItem("theme", newTheme);
        },

        init: function () {
            const toggleButton = document.getElementById("theme-toggle");
            if (
                toggleButton &&
                !toggleButton.hasAttribute("data-theme-initialized")
            ) {
                toggleButton.addEventListener("click", this.toggle);
                toggleButton.setAttribute("data-theme-initialized", "true");
            }
        },
    };

    document.addEventListener("DOMContentLoaded", () =>
        window.themeToggle.init(),
    );

    document.addEventListener("astro:page-load", () =>
        window.themeToggle.init(),
    );
</script>
